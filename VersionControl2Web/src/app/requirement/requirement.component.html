<div class="clr-row">
  <div class="clr-col-12">
    <div *ngIf="selectedRequirement && selectedRequirement.name">
      <label>Selected Requirement: {{ selectedRequirement.name }}</label>
    </div>
  </div>
</div>

<hr />

<div class="clr-row">
  <label>Type your Requirement in here:</label>
  <br />
</div>

<div #requirementContainer style="display:inline;"></div>

<div *ngIf="requirementComponentLoadingCompleted$ | async else loading">

  <ng-template [ngIf]="selectedRequirement">

    <clr-alert *ngIf="!requirementTemplateIsValid" [clrAlertType]="'alert-warning'" [clrAlertClosable]="false">
      <div class="alert-item">
        <span class="alert-text">
          Requirement is not valid!
        </span>
      </div>
    </clr-alert>

    <div class="clr-row" *ngIf="this.storeService.requirementTemplatePartsModified$ | async">
      <button (click)="onSaveRequirement()" class="btn btn-primary">Save Requirement</button>
    </div>

    <hr />

    <div class="clr-row">
      <button [routerLink]="['/requirements', selectedRequirement._id, 'detail']" class="btn btn-primary">Requirement Details</button>
    </div>

    <hr />

    <app-xml></app-xml>

  </ng-template>

</div>

<ng-template #loading>
  <div style="margin: 30px 0px;">
    <span class="spinner spinner-inline">
      Loading...
    </span>
    <span>
      Loading...
    </span>
  </div>
</ng-template>
