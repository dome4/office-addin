<div class="clr-row">
  <div class="clr-col-12">
    <app-requirement-dropdown [requirements]="requirements" (requirementSelected)="onSelectedRequirement($event)"></app-requirement-dropdown>
  </div>
</div>
<div class="clr-row">
  <div class="clr-col-12">
    <div *ngIf="selectedRequirement && selectedRequirement.name">
      <label>Selected Requirement: {{ selectedRequirement.name }}</label>
    </div>
  </div>
</div>

<div class="clr-row">
  <button (click)="onAccessDocument()" class="btn btn-primary">Access Office Document</button>
</div>

<div class="clr-row">
  <button (click)="onInsertExample()" class="btn btn-primary">Insert Example Text</button>
</div>

<hr />

<form>

  <button (click)="onChangeState()">Change</button>
  <clr-datagrid class="vc-datagrid">

    <clr-dg-row>
      <clr-dg-cell (click)="onSelected($event)">
        <input type="text" placeholder="System" required />
      </clr-dg-cell>
      <clr-dg-row-detail *clrIfExpanded>
        Falls Ihr System noch keinen Namen hat, sollten Sie einen definieren und hier einsetzen!
        Wollen Sie dies nicht, schreiben Sie einfach "Das System" oder wie wir dies weiter unten
        auch getan haben "Das Bibliothekssystem".
      </clr-dg-row-detail>
    </clr-dg-row>

    <clr-dg-row *ngIf="state == 'active'">
      <clr-dg-cell [@expandNodeLeft]="state"
                   *ngIf="state == 'active'">
        <button class="btn btn-outline">MUSS</button>
      </clr-dg-cell>
      <clr-dg-cell [@expandNodeMiddle]="state"
                   *ngIf="state == 'active'">
        <button class="btn btn-outline">SOLLTE</button>
      </clr-dg-cell>
      <clr-dg-cell [@expandNodeRight]="state"
                   *ngIf="state == 'active'">
        <button class="btn btn-outline">WIRD</button>
      </clr-dg-cell>
      <clr-dg-row-detail *clrIfExpanded>
        Legen Sie fest, wie wichtig Ihnen die Anforderung ist.
      </clr-dg-row-detail>
    </clr-dg-row>

    <clr-dg-row>
      <clr-dg-cell>
        <button class="btn btn-outline">-</button>
      </clr-dg-cell>
      <clr-dg-cell>
        <div class="btn btn-outline">
          <input type="text" placeholder="Akteur" />
          DIE MÖGLICHKEIT BIETEN
        </div>
      </clr-dg-cell>
      <clr-dg-cell>
        <button class="btn btn-outline">FÄHIG SEIN</button>
      </clr-dg-cell>
      <clr-dg-row-detail *clrIfExpanded>
        Legen Sie die Art der geforderten Funktionalität fest.
      </clr-dg-row-detail>
    </clr-dg-row>

    <clr-dg-row>
      <clr-dg-cell>
        <input type="text" placeholder="Objekt" />
      </clr-dg-cell>
      <clr-dg-row-detail *clrIfExpanded>
        Identifizieren Sie das Objekt, für das die Funktionalität gefordert wird.
      </clr-dg-row-detail>
    </clr-dg-row>

    <clr-dg-row>
      <clr-dg-cell>
        <input type="text" placeholder="Prozesswort" />
      </clr-dg-cell>
      <clr-dg-row-detail *clrIfExpanded>
        Identifizieren Sie die geforderte Funktionalität.
      </clr-dg-row-detail>
    </clr-dg-row>

  </clr-datagrid>

  <button type="submit" class="btn btn-primary">Save</button>
</form>

<form>
  <section class="form-block" style="background-color: white; border: 1px solid #ccc; padding: 10px;">
    <label>Different ways of text</label>

    <div class="form-group row">
      <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
        <h4>Blank Text</h4>

        Das Bibliothekssystem muss fähig sein, Ausleihdaten einer anderen Bibliothek zu empfangen.
      </div>
    </div>
    <div class="form-group row">
      <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
        <h4>Text with Labels</h4>

        <span class="label label-danger clickable">Der Computer </span>
        <span class="label clickable">muss</span>
        <span class="label clickable">dem Anwender die Möglichkeit bieten</span>
        <span class="label clickable">das Dokument</span>

        <clr-dropdown style="margin-top: .25rem; margin-bottom: .25rem;">
          <span class="label clickable" clrDropdownTrigger>zu speichern.</span>
          
          <clr-dropdown-menu clrPosition="bottom-left">
            <h4 class="dropdown-header">Choose a requirement</h4>
            <button type="button" clrDropdownItem>First Action</button>
            <button type="button" disabled clrDropdownItem>Disabled Action</button>
            <button *ngFor="let requirement of requirements"
                    [value]="requirement._id"
                    (click)="onSelected($event)"
                    type="button"
                    clrDropdownItem>
              {{ requirement.name }}
            </button>
            <button type="button" disabled clrDropdownItem>Create new requirement</button>
            <input type="text" name="name" placeholder="Custom Text ..." style="margin-left: 24px; margin-right: 24px;" />
            <div style="padding: 0px 24px;" (click)="onClick($event)">
              <p style="margin-top: 0px; float: left;">Das ist</p>
              <input type="text" name="name" placeholder="Custom Text 2..." />
            </div>
          </clr-dropdown-menu>
        </clr-dropdown>


      </div>
    </div>
    <div class="form-group row">
      <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
        <h4>Text with hover Labels</h4>

        <span (mouseenter)="onMouseEnter($event)" (mouseleave)="onMouseLeave($event)" style="transition: all 0.5s ease-in-out; margin-right: 4px; font-size: 13px;">Der Computer </span>
        <span (mouseenter)="onMouseEnter($event)" (mouseleave)="onMouseLeave($event)" style="transition: all 0.5s ease-in-out; margin-right: 4px; font-size: 13px;">muss</span>
        <span (mouseenter)="onMouseEnter($event)" (mouseleave)="onMouseLeave($event)" style="transition: all 0.5s ease-in-out; margin-right: 4px; font-size: 13px;">dem Anwender die Möglichkeit bieten</span>
        <span (mouseenter)="onMouseEnter($event)" (mouseleave)="onMouseLeave($event)" style="transition: all 0.5s ease-in-out; margin-right: 4px; font-size: 13px;">das Dokument</span>
        <span (mouseenter)="onMouseEnter($event)" (mouseleave)="onMouseLeave($event)" style="transition: all 0.5s ease-in-out; margin-right: 4px; font-size: 13px;">zu speichern.</span>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
        <clr-dropdown>
          <input type="text" name="name" placeholder="Please choose ..." clrDropdownTrigger />
          <clr-dropdown-menu clrPosition="bottom-left">
            <h4 class="dropdown-header">Choose a requirement</h4>
            <button type="button" clrDropdownItem>First Action</button>
            <button type="button" disabled clrDropdownItem>Disabled Action</button>
            <button *ngFor="let requirement of requirements"
                    [value]="requirement._id"
                    (click)="onSelected($event)"
                    type="button"
                    clrDropdownItem>
              {{ requirement.name }}
            </button>
            <button type="button" disabled clrDropdownItem>Create new requirement</button>
            <input type="text" name="name" placeholder="Custom Text ..." style="margin-left: 24px; margin-right: 24px;" />
            <div style="padding: 0px 24px;" (click)="onClick($event)">
              <p style="margin-top: 0px; float: left;">Das ist</p>
              <input type="text" name="name" placeholder="Custom Text 2..." />
            </div>
          </clr-dropdown-menu>
        </clr-dropdown>
      </div>
    </div>
    <button class="btn btn-primary" type="submit">Button</button>
  </section>
</form>

<form>
  <table class="table">
    <tbody>
      <tr>
        <td>
          <input type="text" placeholder="System" required />
        </td>

      </tr>
      <tr>
        <td>5</td>
        <td>5</td>
        <td>101</td>
      </tr>
      <tr>
        <td>10</td>
        <td>A</td>
        <td>1010</td>
      </tr>
      <tr>
        <td>15</td>
        <td>F</td>
        <td>1111</td>
      </tr>
    </tbody>
  </table>
</form>


<!-- reactve form -->
<form class="form" [formGroup]="requirementForm" (ngSubmit)="onSubmit()" [hidden]="submitted">
  <section class="form-block">

    <!-- clarity styled form start -->
    <label>Add Employee Address</label>
    <div class="form-group">
      <label for="empFullName">Full name</label>
      <label for="empFullName"
             aria-haspopup="true"
             role="tooltip"
             class="tooltip tooltip-validation tooltip-sm"
             [class.invalid]="requirementForm.get('fullName').invalid
                    && (requirementForm.get('fullName').dirty || requirementForm.get('fullName').touched)">
        <input id="empFullName" type="text"
               formControlName="fullName">
        <span class="tooltip-content">
          Name is required.
        </span>
      </label>
    </div>
    <div formGroupName="address">
      <div class="form-group">
        <label for="empPostalCode">Postal code</label>
        <label for="empPostalCode"
               aria-haspopup="true"
               role="tooltip"
               class="tooltip tooltip-validation tooltip-sm"
               [class.invalid]="requirementForm.get('address').get('postalCode').invalid
                        && (requirementForm.get('address').get('postalCode').dirty ||
                        requirementForm.get('address').get('postalCode').touched)">
          <input id="empPostalCode" type="text"
                 formControlName="postalCode">
          <span class="tooltip-content">
            Postal code is required.
          </span>
        </label>
      </div>
      <div class="form-group">
        <label for="empCountry">Country</label>
        <label for="empCountry"
               aria-haspopup="true"
               role="tooltip"
               class="tooltip tooltip-validation tooltip-sm"
               [class.invalid]="requirementForm.get('address').get('country').invalid
                        && (requirementForm.get('address').get('country').dirty ||
                        requirementForm.get('address').get('country').touched)">
          <input id="empCountry" type="text"
                 formControlName="country">
          <span class="tooltip-content">
            Country is required.
          </span>
        </label>
      </div>
    </div>
    <!-- clarity styled form start -->

    <!-- form array start-->
    <div formArrayName="templateParts">
      <div *ngFor="let part of requirementForm.controls.templateParts.controls; let i=index">
        <!-- templateParts header, show remove button when more than one part available -->
        <div>
          <span>Part {{i + 1}}</span>
          <span *ngIf="requirementForm.controls.templateParts.controls.length > 1" (click)="removeAddress(i)">
          </span>
        </div>

        <!-- Angular assigns array index as group name by default 0, 1, 2, ... -->
        <div [formGroupName]="i">
            <!-- version -->
            <div class="form-group">
              <label>version</label>
              <input type="text" formControlName="version">
              <!--display error message if street is not valid-->
              <small [hidden]="requirementForm.controls.templateParts.controls[i].controls.version.valid">
                Street is required
              </small>
            </div>

            <!-- value -->
            <div class="form-group">
              <label>value</label>
              <input type="text" formControlName="value">
            </div>


          </div>

        </div>
    </div>
    <!-- form array end-->

    <button class="btn btn-primary"
            type="submit"
            [disabled]="requirementForm.invalid">
      Add
    </button>
  </section>
</form>

<div>
  <button class="btn btn-primary" (click)="addEmptyTemplatePart()">Add Part</button>
  <!--<button class="btn btn-primary" (click)="removeTemplatePart()">Remove Part</button>-->
</div>
